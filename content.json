[{"title":"Netflow流量分析工具的使用","slug":"netflow","date":"2017-09-24T10:16:12.965Z","updated":"2017-09-24T10:41:11.505Z","comments":true,"path":"2017/09/24/netflow/","link":"","permalink":"http://yoursite.com/2017/09/24/netflow/","excerpt":"","text":"1.Netflow介绍 &emsp;&emsp;NetFlow是一种数据交换方式，其工作原理是：NetFlow利用标准的交换模式处理数据流的第一个IP包数据，生成NetFlow 缓存，随后同样的数据基于缓存信息在同一个数据流中进行传输，不再匹配相关的访问控制等策略，NetFlow缓存同时包含了随后数据流的统计信息。 &emsp;&emsp;其次我们要关注的事netflow的产生：1996年，Cisco系统公司的Darren Kerr和Barry Bruins开发了一种流量轮廓监控技术，即NetFlow。作为业界事实标准，NetFlow描述了路由器输出关于被路由套接字对（the routed socket pairs）统计信息的方法。目前Cisco的绝大多数路由器集成了该特性，Juniper、Extreme以及其他厂商也有集成该特性的路由器和交换机。NetFlow是Cisco发布的一款用于分析网络数据包信息的工具包。利用Netflow技术可以监测网络上的IP流（IP flow）信息。采集到的netflow流量信息可以帮助进行网络规划，网络管理，流量计费和病毒检测等等注意：netflow是cisco开发并一直升级的，所以现在的netflow在思科的路由、交换器上是应用最广又或者是只有思科的路由器有这样的功能，只有极少数的路由有并且只是sflow的功能，像juniper。但是并不是所有思科的路由、交换器都有netflow功能，版本越高的路由器功能越全面，像c7200。版本较低的可能就没有，像c3630这个版本就不能配置netflow 2.下载链接netflow下载地址http://www.manageengine.com/products/netflow/download.html#more_download3.安装Netflow的重点&emsp;&emsp;3.1 记好默认的端口号并选择语言，如下图所示&emsp;&emsp;&emsp;3.2 记住默认的snmp端口&emsp;&emsp;3.3 接着一路默认安装即可4.配置及检测数据CISC交换机c2801路由器配置netflow ###1.config全局模式下配置netflow版本号 (config)#ip flow-export version 5 ###2.config全局模式下配置netflow服务器地址和端口号 (config)#ip flow-export destination xxx.xxx.xxx.xxx 9996 注意：xxx.xxx.xxx.xxx为netflow服务器地址，即运行netflow版流量监控程序主机的IP地址，9996为服务器端口号，即安装netflow是的默认端口号 ###3.在Cisco系列路由器交换机每个接口上（例如interface fastethernet0/0；interface fastethernet0/1等）分别进行配置： (config-if)#ip route-cache flow ###4.接着退出接口模式，进入全局模式（config）设置时区 （config)#clock timezone Beijing 8 设置为北京时区 ###5.enable状态下设置日期时间，最好是当下的时间 #clock set hh:mm:ss day mon year 注意： **先设置时区在设置日期时间 这是设置的netflow功能的路由器的时间，我们还需要将运行netflow程序的计算机修改成同步的时间。 ###ps： show ip flow export 显示当前Netflow的配置。 show ip cache flow 该命令显示当前活动的流的概要，还显示设备输出了多少Netflow数据 5.完成一切正确的配置之后会检测到的数据 &emsp;&emsp;这款软件有一个特点，在你配置好路由上的所有命令之后，打开监控的界面，他会自动检测到配置过netflow的路由的列表，剩下的就是根据自己的需要进行一系列的筛选和分析。但是，我对与很多应用用到的协议等的了解的太少，所以收集到的信息以及统计道德流量信息都是粗略的消息，并没有通过详细的过滤来了解到某一应用的检测与分析。","categories":[],"tags":[]},{"title":"woede","slug":"woede","date":"2017-09-14T10:23:42.000Z","updated":"2017-09-14T10:23:58.988Z","comments":true,"path":"2017/09/14/woede/","link":"","permalink":"http://yoursite.com/2017/09/14/woede/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"TEST","slug":"test","date":"2017-09-14T10:18:16.551Z","updated":"2017-09-14T10:22:44.563Z","comments":true,"path":"2017/09/14/test/","link":"","permalink":"http://yoursite.com/2017/09/14/test/","excerpt":"","text":"网上关于Markdown的介绍和入门指南已经很多，再写一份似乎显得多余，但对于我自己来说，写这样一份文档是对自己的Markdown掌握情况的检验，也是为推广Markdown贡献力量。如有错漏之处，还请指出。 ##测试markdown。。。。 ##测试标题","categories":[],"tags":[]},{"title":"TEST标题居中","slug":"测试-1","date":"2017-09-14T10:08:15.526Z","updated":"2017-09-14T10:38:02.889Z","comments":true,"path":"2017/09/14/测试-1/","link":"","permalink":"http://yoursite.com/2017/09/14/测试-1/","excerpt":"","text":"#Markdown 网上关于Markdown的介绍和入门指南已经很多，再写一份似乎显得多余，但对于我自己来说，写这样一份文档是对自己的Markdown掌握情况的检验，也是为推广Markdown贡献力量。如有错漏之处，还请指出。 ##测试markdown。。。。","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2017-09-13T07:19:43.852Z","updated":"2017-09-13T07:19:43.852Z","comments":true,"path":"2017/09/13/hello-world/","link":"","permalink":"http://yoursite.com/2017/09/13/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}]